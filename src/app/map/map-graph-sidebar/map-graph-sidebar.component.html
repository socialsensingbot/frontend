<div *ngIf="this.pref.featureSupported('analytics')" class="stats-panel"><br/>
    <button *ngIf="this.pref.featureSupported('dashboard')" mat-button (click)="showDashboard()">Open Dashboard</button>

    <div class="graph-wrapper" *ngIf="this.pref.featureSupported('dashboard')">
        <app-widget-timeseries [height]="500" [id]="'region-graph-count-'+selection.asId()"
                               [state]="this.cState"
        ></app-widget-timeseries>
    </div>


    <button (click)="expandCountGraph()" *ngIf="this.pref.featureSupported('analytics')"
            class="app-stats-panel-count-open-in-analytics" mat-button>Open in Analytics
    </button>
    <button mat-button class="app-stats-panel-count-add-to-dashboard" *ngIf="this.pref.featureSupported('dashboard')"
            (click)="this.dash.addCard('timeseries', 'Count for '+regionText(),
        2,2,this.cState);showDashboard()">Add to
        Dashboard
    </button>
    <div class="graph-wrapper">
      <app-widget-timeseries [height]="500" [id]="'region-graph-exceedance-'+selection.asId()"
                             [state]="this.eState"
      ></app-widget-timeseries>

        <button mat-button class="app-stats-panel-exceedance-open-in-analytics" *ngIf="this.pref.featureSupported('analytics')" (click)="expandExceedanceGraph()">Open in Analytics</button>
        <button mat-button class="app-stats-panel-exceedance-add-to-dashboard"
                *ngIf="this.pref.featureSupported('dashboard')"
                (click)="this.dash.addCard('timeseries', 'Exceedance for '+regionText(),
            1,1,this.eState);showDashboard()">Add to
            Dashboard
        </button>
    </div>

</div>
<div *ngIf="!this.pref.featureSupported('analytics')" class="stats-panel">
    <br/>
    <h3>Stats will be available in a future release</h3>
</div>
